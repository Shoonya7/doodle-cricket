<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Doodle Cricket Game 2025</title>
  <script src="loaders.js"></script>
  <meta name="description" content="Welcome to the Doodle Cricket Game 2025! Powered By Advance AI Algorithms. This is a game built for you the cricket fan! Every cricket lover can now have the most lightweight mobile cricket game at the palm of their hands! You can play the maximum number of cricket shots without having over limits. Be prepared for awesome fun!">
  <link rel="icon" type="image/png" sizes="96x96" href="icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="32x32" href="icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="icons/favicon-16x16.png">
  <link rel="icon" type="image/ico" href="icons/favicon.ico">
  <link rel="manifest" href="manifest.json">
  <meta name="theme-color" content="#00a8f1">
  <meta name="apple-mobile-web-app-capable" content="no">
  <meta name="apple-mobile-web-app-status-bar-style" content="default">
  <meta name="apple-mobile-web-app-title" content="Doodle Cricket">
  <link rel="apple-touch-icon" href="icons/apple-icon-152x152.png">
  <link rel="mask-icon" href="icons/safari-pinned-tab.svg" color="#00a8f1">
  <meta name="msapplication-TileImage" content="icons/ms-icon-144x144.png">
  <meta name="msapplication-TileColor" content="#1f1f1f">
  <script src="https://cdn.tailwindcss.com"></script>
  <script>tailwind.config = {
    corePlugins: {
      container: false,
    },
  };</script>
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@100;300;400;500;700;900&display=swap" rel="stylesheet">
  <style>
    * {
      font-family: 'Roboto', sans-serif;
    }

    body {
      background: linear-gradient(to bottom, #4b0082, #ff8c00);
      margin: 0;
      padding: 0;
      overflow: hidden;
      height: 100vh;
    }

    .splash-screen {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      background: linear-gradient(to bottom, #4b0082, #ff8c00);
      z-index: 100;
    }

    /* New game environment overlay */
    .game-environment-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: 10;
      background: linear-gradient(135deg, rgba(0,125,255,0.3), rgba(0,0,0,0));
      background-size: 100% 100%;
    }

    /* Night mode environment (optional) */
    .night-mode-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: 10;
      background: linear-gradient(to bottom, rgba(10,15,60,0.7), rgba(10,15,60,0.4));
      display: none; /* Hidden by default */
    }
    
    /* Add stars to night mode */
    .night-mode-overlay::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background-image: 
        radial-gradient(1px 1px at 25px 5px, white, rgba(255,255,255,0)),
        radial-gradient(1px 1px at 50px 25px, white, rgba(255,255,255,0)),
        radial-gradient(1px 1px at 125px 20px, white, rgba(255,255,255,0)),
        radial-gradient(1.5px 1.5px at 50px 75px, white, rgba(255,255,255,0)),
        radial-gradient(2px 2px at 175px 15px, white, rgba(255,255,255,0)),
        radial-gradient(2px 2px at 200px 50px, white, rgba(255,255,255,0)),
        radial-gradient(1px 1px at 225px 100px, white, rgba(255,255,255,0));
      background-size: 250px 150px;
      opacity: 0.7;
    }

    /* Desert environment (optional) */
    .desert-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: 10;
      background: linear-gradient(to bottom, rgba(255,182,85,0.4), rgba(255,140,0,0.2));
      display: none; /* Hidden by default */
    }
    
    /* Add heat waves effect to desert */
    .desert-overlay::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: repeating-linear-gradient(
        0deg,
        rgba(255,255,255,0.1),
        rgba(255,255,255,0.1) 10px,
        rgba(255,255,255,0) 10px,
        rgba(255,255,255,0) 20px
      );
      animation: heatwave 10s infinite ease-in-out;
      opacity: 0.3;
    }
    
    @keyframes heatwave {
      0% { transform: scaleY(1.0); }
      50% { transform: scaleY(1.02); }
      100% { transform: scaleY(1.0); }
    }

    /* Rainy environment */
    .rainy-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: 10;
      background: linear-gradient(to bottom, rgba(75,105,149,0.4), rgba(110,140,180,0.3));
      display: none; /* Hidden by default */
    }
    
    /* Rainy animation effect */
    .rainy-overlay::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background-image: 
        linear-gradient(to bottom, rgba(255,255,255,0.2) 1px, transparent 1px);
      background-size: 100% 10px;
      animation: rain 0.5s linear infinite;
      opacity: 0.5;
    }
    
    @keyframes rain {
      0% { background-position: 0 0; }
      100% { background-position: 0 10px; }
    }

    .cricket-logo {
      width: 200px;
      margin-bottom: 20px;
    }

    .play-button {
      background-color: white;
      color: #00a8f1;
      border: none;
      padding: 12px 42px;
      font-size: 1.25rem;
      font-weight: bold;
      border-radius: 12px;
      cursor: pointer;
      box-shadow: 0 4px 8px rgba(0,0,0,0.2);
      transition: all 0.2s ease;
      margin-top: 20px;
    }

    .play-button:hover {
      transform: translateY(-3px);
      box-shadow: 0 6px 12px rgba(0,0,0,0.3);
    }

    .play-button:active {
      transform: translateY(-1px);
      box-shadow: 0 3px 6px rgba(0,0,0,0.2);
    }

    canvas {
      height: 100% !important;
      width: 100%;
      margin: 0;
      padding: 0;
    }

    #q-app {
      display: none;
      height: 100vh;
      width: 100vw;
    }
    
    /* Mute button styles */
    .mute-button {
      position: fixed;
      bottom: 20px;
      right: 20px;
      width: 40px;
      height: 40px;
      background-color: rgba(255, 255, 255, 0.8);
      border-radius: 50%;
      display: flex;
      justify-content: center;
      align-items: center;
      cursor: pointer;
      box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
      z-index: 1000;
      transition: all 0.2s ease;
    }
    
    .mute-button:hover {
      transform: scale(1.1);
      background-color: rgba(255, 255, 255, 0.9);
    }
    
    .mute-icon, .unmute-icon {
      width: 24px;
      height: 24px;
    }
    
    .unmute-icon {
      display: none;
    }
  </style>
  <script type="module" crossorigin src="assets/index-CB9cSSVB.js"></script>
  <link rel="stylesheet" crossorigin href="assets/index-BGn-wZ8K.css">
</head>

<body>
  <!-- Remove or comment out the splash screen div -->
  <!-- <div id="splash-screen" class="splash-screen">
    <img src="doodle-cricket.svg" alt="Doodle Cricket" class="cricket-logo">
    <h1 class="text-white text-3xl font-bold">Doodle Cricket 2025</h1>
    <p class="text-white text-xl mt-2">The ultimate cricket experience!</p>
    <button id="play-button" class="play-button">Play</button>
  </div> -->
  
  <!-- Add loader that shows until game is ready -->
  <div id="game-loader" style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; display: flex; flex-direction: column; justify-content: center; align-items: center; background: white; z-index: 99;">
    <div style="width: 80px; height: 80px; border: 8px solid #f3f3f3; border-top: 8px solid #00a8f1; border-radius: 50%; animation: spin 1s linear infinite;"></div>
    <p style="margin-top: 20px; color: #333; font-size: 1.2rem;">Loading game...</p>
  </div>
  
  <!-- Mute Button -->
  <div id="mute-button" class="mute-button">
    <!-- Sound On Icon (Default) -->
    <svg class="mute-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="#333">
      <path d="M14,3.23V5.29C16.89,6.15 19,8.83 19,12C19,15.17 16.89,17.84 14,18.7V20.77C18,19.86 21,16.28 21,12C21,7.72 18,4.14 14,3.23M16.5,12C16.5,10.23 15.5,8.71 14,7.97V16C15.5,15.29 16.5,13.76 16.5,12M3,9V15H7L12,20V4L7,9H3Z" />
    </svg>
    <!-- Sound Off Icon (Hidden initially) -->
    <svg class="unmute-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="#333">
      <path d="M12,4L9.91,6.09L12,8.18V4M4.27,3L3,4.27L7.73,9H3V15H7L12,20V13.27L16.25,17.53C15.58,18.04 14.83,18.46 14,18.7V20.77C15.38,20.45 16.63,19.82 17.68,18.96L19.73,21L21,19.73L12,10.73L4.27,3M19,12C19,12.94 18.8,13.82 18.46,14.64L19.97,16.15C20.62,14.91 21,13.5 21,12C21,7.72 18,4.14 14,3.23V5.29C16.89,6.15 19,8.83 19,12M16.5,12C16.5,10.23 15.5,8.71 14,7.97V10.18L16.45,12.63C16.5,12.43 16.5,12.21 16.5,12Z" />
    </svg>
  </div>
  
  <div id="q-app" style="display: block;"></div>

  <style>
    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
  </style>

  <script>
    document.addEventListener("DOMContentLoaded", function() {
      const gameLoader = document.getElementById("game-loader");
      const app = document.getElementById("q-app");
      const muteButton = document.getElementById("mute-button");
      const muteIcon = document.querySelector(".mute-icon");
      const unmuteIcon = document.querySelector(".unmute-icon");
      
      // Check if game has loaded
      let gameLoaded = false;
      
      // Mute state
      let isMuted = false;
      
      // Store the game sound reference
      let gameSound = null;
      
      // Function to toggle mute
      function toggleMute() {
        isMuted = !isMuted;
        
        // Show/hide appropriate icon
        if (isMuted) {
          muteIcon.style.display = "none";
          unmuteIcon.style.display = "block";
        } else {
          muteIcon.style.display = "block";
          unmuteIcon.style.display = "none";
        }
        
        // Try to access game's sound manager
        if (window.Howler) {
          // This works with Howler.js which is commonly used for game audio
          window.Howler.mute(isMuted);
        }
        
        // Store mute preference in localStorage
        localStorage.setItem('gameMuted', isMuted);
        
        // Alternate approach for specific game variables if Howler isn't detected
        if (window.game && window.game.sound) {
          window.game.sound.mute = isMuted;
        }
        
        // Broadcast a custom event that the game can listen for
        document.dispatchEvent(new CustomEvent('game-audio-changed', { 
          detail: { muted: isMuted } 
        }));
      }
      
      // Add click event to mute button
      muteButton.addEventListener("click", toggleMute);
      
      // Check for saved preference
      if (localStorage.getItem('gameMuted') === 'true') {
        // Apply saved preference on load
        isMuted = true;
        muteIcon.style.display = "none";
        unmuteIcon.style.display = "block";
        
        // We'll apply mute once the game loads
      }
      
      // Hide loader when game is ready
      window.addEventListener('load', function() {
        // Give a small delay to ensure everything is rendered
        setTimeout(function() {
          gameLoader.style.display = "none";
          gameLoaded = true;
          
          // Apply mute setting once game is loaded
          if (isMuted && window.Howler) {
            window.Howler.mute(true);
          }
        }, 100);
      });
      
      // Add a timeout to hide loader even if game takes too long
      setTimeout(function() {
        if (!gameLoaded) {
          gameLoader.style.display = "none";
        }
      }, 10000); // 10 seconds max wait time
      
      // Register service worker
      if ("serviceWorker" in navigator) {
        navigator.serviceWorker.register("sw.js")
          .then(registration => {
            console.log("Service Worker registered with scope:", registration.scope);
          })
          .catch(error => {
            console.error("Service Worker registration failed:", error);
          });
      }
      
      // Listen for audio context ready events
      document.addEventListener('audioContextReady', function(e) {
        // Apply saved mute setting to the newly created audio context
        if (isMuted && window.Howler) {
          window.Howler.mute(true);
        }
      });
    });
  </script>
</body>

</html>